let e=0;const c=2e3,i=()=>{var n,o;const t=Date.now();if(t-e<c){console.log("StonkGaze: Skipping duplicate snapshot");return}e=t;const d={title:document.title,url:window.location.href,text:((o=(n=document.body)==null?void 0:n.innerText)==null?void 0:o.slice(0,2e3))||""};chrome.runtime.sendMessage({type:"STONK_PAGE",payload:d})};window.addEventListener("load",()=>{setTimeout(i,500)});chrome.runtime.onMessage.addListener(t=>{(t==null?void 0:t.type)==="STONK_REFRESH"&&(e=0,i())});
