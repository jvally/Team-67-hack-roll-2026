const t=()=>{var n,o;const e={title:document.title,url:window.location.href,text:((o=(n=document.body)==null?void 0:n.innerText)==null?void 0:o.slice(0,2e3))||""};chrome.runtime.sendMessage({type:"STONK_PAGE",payload:e})};window.addEventListener("load",()=>{setTimeout(t,500)});window.addEventListener("hashchange",()=>{setTimeout(t,300)});window.addEventListener("popstate",()=>{setTimeout(t,300)});chrome.runtime.onMessage.addListener(e=>{(e==null?void 0:e.type)==="STONK_REFRESH"&&t()});
